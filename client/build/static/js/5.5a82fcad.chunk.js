(this["webpackJsonpgreen-production"]=this["webpackJsonpgreen-production"]||[]).push([[5],{102:function(e,t,c){"use strict";c.d(t,"b",(function(){return r})),c.d(t,"a",(function(){return n}));var a=c(2),s=c(0),r=function(e){return Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:e.id,children:e.cat?e.placeholder:""}),Object(s.jsx)("input",Object(a.a)({className:"form-control",type:e.type,name:e.name,value:e.value||"",id:e.id,placeholder:e.placeholder,onChange:e.onChange,required:e.required},e))]})},n=function(e){return Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:e.id,children:e.cat?e.placeholder:""}),Object(s.jsx)("select",{name:e.id,id:e.id,value:e.value,required:!0,onChange:e.changeFn,children:e.children})]})}},103:function(e,t,c){},115:function(e,t,c){},125:function(e,t,c){"use strict";c.r(t);var a=c(10),s=c.n(a),r=c(15),n=c(2),i=c(6),l=c(7),o=c(9),d=c(8),u=c(1),p=c(27),h=c(26),j=c(23),b=(c(103),c(102)),m=c(4),g=(c(115),c(0)),x=function(e){Object(o.a)(c,e);var t=Object(d.a)(c);function c(e){var a;return Object(i.a)(this,c),(a=t.call(this,e)).changeInput=function(e){var t=Object(n.a)({},a.state.form);t[e.target.id]=e.target.value,a.setState({form:t})},a.fileChange=function(e){},a.handleSubmit=function(){var e=Object(r.a)(s.a.mark((function e(t){var c,r,i,l,o,d,u,j,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in t.preventDefault(),a.setState({errorMsg:""}),c=a.props.context.userDetails,r=new FormData(t.target),i=Object.fromEntries(r.entries()),a.setState({pageLoading:!0}),(l=new FormData).append("seller_ID",c.user_ID),l.append("seller_name",c.full_name),i)Object.hasOwnProperty.call(i,o)&&(d=i[o],l.append(o,d));return console.log("data",l,i),e.prev=11,e.next=14,p.a.newProduct(l);case 14:if(u=e.sent){for(j in console.log("data",u),a.state.form)Object.hasOwnProperty.call(i,j)&&((b=Object(n.a)({},a.state.form))[j]="",a.setState({form:b}));a.setState({successMsg:"Product item uploaded successfully"}),setTimeout((function(){a.setState({successMsg:""})}),3e3)}e.next=22;break;case 18:e.prev=18,e.t0=e.catch(11),a.setState({errorMsg:"Error uploading product"}),Object(h.a)(e.t0);case 22:a.setState({pageLoading:!1});case 23:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}(),a.state={pageLoading:!1,userImg:"https://img.icons8.com/bubbles/100/000000/user.png",form:{product_name:"",unit_price:"",quantity:"",product_material:"",recycling_code:"",product_category:"",product_sub_category:""},successMsg:"",errorMsg:""},a}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var e=this.props.context.userDetails;e.imgUrl&&this.setState({userImg:e.imgUrl}),window.scrollTo(0,150),console.log("prps",this.props.context,this.props.context.userDetails)}},{key:"render",value:function(){var e=this.props.context.userDetails,t=this.state.form,c=t.product_name,a=t.unit_price,s=t.quantity,r=t.product_material,n=t.recycling_code,i=t.product_category,l=t.product_sub_category;return Object(g.jsxs)("div",{className:"seller-page",children:[this.state.pageLoading?Object(g.jsx)(j.a,{}):"",Object(g.jsx)("h1",{className:"page-settings-header",children:"Upload Items"}),Object(g.jsx)("div",{className:"page-content page-container",id:"page-content",children:Object(g.jsx)("div",{className:"row d-flex justify-content-center",children:Object(g.jsx)("div",{className:"seller-inner-wrapper",children:Object(g.jsx)("div",{className:"card user-card-full",children:Object(g.jsxs)("div",{className:"row m-l-0 m-r-0 upload-wrapper",children:[Object(g.jsxs)("div",{className:"col-4 bg-c-lite-green user-profile",children:[Object(g.jsxs)("div",{className:"card-block text-center text-white",children:[Object(g.jsx)("div",{className:"m-b-25",children:Object(g.jsx)("img",{src:this.state.userImg,className:"img-radius",alt:"User-Profile-Image"})}),Object(g.jsx)("h6",{className:"f-w-600",children:e.full_name}),Object(g.jsx)("p",{children:"GreenyTale Seller"}),Object(g.jsx)("p",{children:e.email}),Object(g.jsxs)("p",{children:["Joined:"," ",e.created_dt.substr(0,e.created_dt.indexOf("T"))]})]}),Object(g.jsx)("div",{className:"account-btn",children:Object(g.jsx)("button",{className:"btn btn-info",children:Object(g.jsx)(m.b,{to:"seller",children:"Account Details"})})})]}),Object(g.jsx)("div",{className:"col-8",children:Object(g.jsxs)("div",{className:"card-block upload-item",children:[Object(g.jsx)("form",{onSubmit:this.handleSubmit,children:Object(g.jsxs)("div",{className:"outer-child",children:[Object(g.jsx)("div",{className:"input-child",children:Object(g.jsx)(b.b,{type:"text",name:"product_name",value:c,id:"product_name",cat:!0,placeholder:"Enter item name:",onChange:this.changeInput,required:!0})}),Object(g.jsx)("div",{className:"input-child",children:Object(g.jsx)(b.b,{type:"number",name:"unit_price",value:a,id:"unit_price",cat:!0,min:0,placeholder:"Price:",onChange:this.changeInput,required:!0})}),Object(g.jsx)("div",{className:"input-child",children:Object(g.jsx)(b.b,{type:"number",name:"quantity",value:s,id:"quantity",cat:!0,min:1,max:10,placeholder:"Quantity",onChange:this.changeInput,required:!0})}),Object(g.jsx)("div",{className:"input-child",children:Object(g.jsx)(b.b,{type:"text",name:"product_material",value:r,id:"product_material",cat:!0,placeholder:"Material used for items:",onChange:this.changeInput,required:!0})}),Object(g.jsx)("div",{className:"input-child input-child-dd",children:Object(g.jsxs)(b.a,{name:"product_category",value:i,id:"product_category",cat:!0,placeholder:"Category:",changeFn:this.changeInput,children:[Object(g.jsx)("option",{value:"",default:!0,children:"--Select Category--"}),Object(g.jsx)("option",{children:"Clothing"}),Object(g.jsx)("option",{children:"Footwear"}),Object(g.jsx)("option",{children:"Electronics"}),Object(g.jsx)("option",{children:"Domestic appliances"}),Object(g.jsx)("option",{children:"Accessories"})]})}),Object(g.jsx)("div",{className:"input-child",children:Object(g.jsx)(b.b,{type:"text",name:"product_sub_category",value:l,id:"product_sub_category",cat:!0,placeholder:"Item sub-category:",onChange:this.changeInput,required:!1})}),Object(g.jsx)("div",{className:"input-child",children:Object(g.jsx)(b.b,{type:"text",name:"recycling_code",value:n,id:"recycling_code",cat:!0,placeholder:"Recycling code:",onChange:this.changeInput,required:!1})}),Object(g.jsxs)("div",{className:"input-child",children:[Object(g.jsx)("label",{htmlFor:"file",children:"Upload items"}),Object(g.jsx)("input",{type:"file",id:"file",name:"file",onChange:this.fileChange,accept:"image/*"})]}),Object(g.jsx)("div",{className:"input-child",children:Object(g.jsx)("button",{className:"btn btn-info upload-btn",type:"submit",children:"Upload"})})]})}),!!this.state.errorMsg&&Object(g.jsx)("div",{className:"error-body",children:Object(g.jsx)("span",{children:this.state.errorMsg})}),!!this.state.successMsg&&Object(g.jsx)("div",{className:"success-body",children:Object(g.jsx)("span",{children:this.state.successMsg})})]})})]})})})})})]})}}]),c}(u.Component);t.default=x}}]);
//# sourceMappingURL=5.5a82fcad.chunk.js.map