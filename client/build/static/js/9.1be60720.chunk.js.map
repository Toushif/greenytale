{"version":3,"sources":["views/product/index.js"],"names":["Product","props","state","pageLoading","product","dispatchWatsonDiscovery","this","context","type","res","window","scrollTo","getProductDetails","a","setState","request","product_ID","match","params","id","Core","productInfo","errorMsg","handleError","className","count","sm","style","width","Img","variant","src","arrayBufferToBase64","image_buffer","data","Body","Title","fontWeight","product_name","Text","product_material","product_sub_category","recycling_code","created_dt","substr","indexOf","Header","as","quantity","seller_name","unit_price","to","Component","contextType","AuthContext"],"mappings":"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","file":"static/js/9.1be60720.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Container, ListGroup, ListGroupItem, Col, Row, Card } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/authContext\";\r\nimport arrayBufferToBase64 from \"../../utils/btb64\";\r\nimport Core from \"../../services/core\";\r\nimport handleError from \"../../services/errorHandler\";\r\nimport GlobalSkeletonLoader from \"components/loader/global-skeleton-loader\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport \"../home/index.scss\";\r\nimport \"./index.scss\";\r\n\r\nclass Product extends Component {\r\n    static contextType = AuthContext;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pageLoading: true,\r\n            product: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { dispatchWatsonDiscovery } = this.context;\r\n        dispatchWatsonDiscovery({ type: \"WATSON-DISCOVERY\", res: true });\r\n        window.scrollTo(0, 0)\r\n        this.getProductDetails()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { dispatchWatsonDiscovery } = this.context;\r\n        dispatchWatsonDiscovery({ type: \"WATSON-DISCOVERY\", res: false });\r\n    }\r\n\r\n    async getProductDetails() {\r\n        this.setState({ pageLoading: true });\r\n        try {\r\n            const request = {\r\n                product_ID: this.props.match?.params?.id\r\n            } \r\n            const res = await Core.productInfo(request);\r\n            if (res) {\r\n                this.setState({product: res})\r\n            }\r\n        } catch (error) {\r\n            this.setState({ errorMsg: \"Error product details\" });\r\n            handleError(error);\r\n        }\r\n        this.setState({ pageLoading: false });\r\n    }\r\n    \r\n    render() {\r\n        const { product } = this.state\r\n\r\n        return (\r\n            <div className=\"product-wrapper\">\r\n                {\r\n                    this.state.pageLoading \r\n                    ?\r\n                    <GlobalSkeletonLoader count=\"1\" />\r\n                    :\r\n                    <Container className=\"padding\">\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <Card style={{ width: '18rem' }}>\r\n                                    <Card.Img variant=\"top\" src={arrayBufferToBase64(product?.image_buffer?.data)} />\r\n                                    <Card.Body>\r\n                                        <Card.Title className=\"boldStyle\" style={{ fontWeight: 'bold' }}>{product?.product_name}</Card.Title>\r\n                                        <Card.Text>\r\n                                            Materials used: {product?.product_material}, {product?.product_sub_category}\r\n                                        </Card.Text>\r\n                                    </Card.Body>\r\n                                    <ListGroup className=\"list-group-flush\">\r\n                                        <ListGroupItem>Recycling code: {product?.recycling_code}</ListGroupItem>\r\n                                        <ListGroupItem>Item uploaded on: {product?.created_dt.substr(0, product?.created_dt.indexOf('T'))}</ListGroupItem>\r\n                                    </ListGroup>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col sm={8}>\r\n                                <Card>\r\n                                    <Card.Header as=\"h5\">Product Name</Card.Header>\r\n                                    <Card.Body>\r\n                                        <Card.Title><b>{product?.product_name}</b></Card.Title>\r\n                                        <Card.Text>\r\n                                            Materials used: {product?.product_material}, {product?.product_sub_category}\r\n                                        </Card.Text>\r\n                                        <Card.Text>\r\n                                            Quantity available: {product?.quantity}\r\n                                        </Card.Text>\r\n                                        <Card.Text>\r\n                                            Seller name: {product?.seller_name}\r\n                                        </Card.Text>\r\n                                        <Card.Title>Price: {product?.unit_price}</Card.Title>\r\n                                        <Row>\r\n                                            <Col sm={6}>\r\n                                                <Button variant=\"primary\">Add to Cart</Button>\r\n                                            </Col>\r\n                                            <Col sm={6}>\r\n                                                <Button variant=\"primary\">\r\n                                                    <Link to=\"/cart\">\r\n                                                        Go to Cart\r\n                                                    </Link>\r\n                                                </Button>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Product;\r\n"],"sourceRoot":""}