{"version":3,"sources":["views/watson-discovery/index.js"],"names":["WatsonDiscovery","props","searchChange","e","query","target","value","setState","search","enterKey","code","toggleClass","readMore","window","open","innerHeight","innerWidth","document","body","innerHTML","a","state","searchOff","length","pageLoading","Core","searchWatson","res","html","matching_results","className","results","map","element","index","trimText","text","substr","style","padding","title","enriched_text","keywords","onClick","resultHtml","console","log","handleError","prevState","textInput","current","focus","React","createRef","dispatchWatsonDiscovery","this","context","type","width","ref","placeholder","onKeyUp","onChange","href","rel","Component","contextType","AuthContext"],"mappings":"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","file":"static/js/11.5b559b23.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Core from \"../../services/core\";\r\nimport Loading from \"components/loader/index\";\r\nimport { AuthContext } from \"../../context/authContext\";\r\nimport handleError from \"../../services/errorHandler\";\r\nimport \"./index.scss\";\r\n\r\nclass WatsonDiscovery extends Component {\r\n    static contextType = AuthContext;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pageLoading: false,\r\n            search: \"\",\r\n            searchOff: true,\r\n            resultHtml: <div className=\"no-result-found\">Start discovering!</div>\r\n        };\r\n        this.textInput = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { dispatchWatsonDiscovery } = this.context;\r\n        dispatchWatsonDiscovery({ type: \"WATSON-DISCOVERY\", res: true });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { dispatchWatsonDiscovery } = this.context;\r\n        dispatchWatsonDiscovery({ type: \"WATSON-DISCOVERY\", res: false });\r\n    }\r\n\r\n    searchChange = (e) => {\r\n        const query = e.target.value;\r\n        this.setState({ search: query });\r\n    };\r\n\r\n    enterKey = (e) => {\r\n        if (e.code === \"Enter\") {\r\n            this.toggleClass();\r\n        }\r\n    };\r\n\r\n    readMore = e => {\r\n        const win = window.open(\"\", \"Title\", \"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=880,height=300,top=\"+(window.innerHeight-500)+\",left=\"+(window.innerWidth-1240));\r\n        win.document.body.innerHTML = e;\r\n    }\r\n\r\n    toggleClass = async (e) => {\r\n        if(!this.state.searchOff && this.state.search?.length > 2) {\r\n            this.setState({ pageLoading: true });\r\n            try {\r\n                const res = await Core.searchWatson(this.state.search);\r\n                this.setState({ search: '' });\r\n                let html;\r\n                if(res.matching_results === 0) {\r\n                    html = (<div className=\"no-result-found\">No matching results found. Try again using different keywords.</div>)\r\n                } else {\r\n                    html = res.results.map((element, index) => {\r\n                        const text = element.text\r\n                        const trimText = text.substr(0, 200) + '...'\r\n                        return (\r\n                            <aside key={index}>\r\n                                <div className=\"content\" style={{padding: 0}}>\r\n                                    <h3>\r\n                                        {element.title || element.enriched_text?.keywords?.[0]?.text}\r\n                                    </h3>\r\n                                    <p>\r\n                                        {trimText}\r\n                                        <span className=\"read-more\" onClick={e => this.readMore(element.html || element.text)}>read more</span>\r\n                                    </p>\r\n                                </div>\r\n                            </aside>\r\n                        )\r\n                    });\r\n                }\r\n                this.setState({resultHtml: html})\r\n                console.log(\"search\", res);\r\n            } catch (error) {\r\n                handleError(error);\r\n            }\r\n            this.setState({ pageLoading: false });\r\n        }\r\n\r\n        this.setState((prevState) => ({ searchOff: !prevState.searchOff }), () => {\r\n            if(!this.state.searchOff) {\r\n                this.textInput.current.focus()\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    render() {\r\n        const { pageLoading, searchOff, resultHtml } = this.state;\r\n        return (\r\n            <div className=\"dashboard\">\r\n                {pageLoading ? <Loading /> : \"\"}\r\n                <div\r\n                    className=\"search\"\r\n                    style={{ width: searchOff ? \"100px\" : \"420px\" }}\r\n                >\r\n                    {!searchOff && (\r\n                        <input\r\n                            style={{ width: \"250px\" }}\r\n                            type=\"text\"\r\n                            ref={this.textInput}\r\n                            value={this.state.search}\r\n                            placeholder=\"Search anything\"\r\n                            className=\"search-box\"\r\n                            onKeyUp={this.enterKey}\r\n                            onChange={this.searchChange}\r\n                        ></input>\r\n                    )}\r\n                    <span\r\n                        className={\r\n                            searchOff ? \"search-button\" : \"search-button open\"\r\n                        }\r\n                        onClick={this.toggleClass}\r\n                    >\r\n                        <span className=\"search-icon\"></span>\r\n                    </span>\r\n                </div>\r\n\r\n                <section className=\"main watson-main\">\r\n                    {resultHtml}\r\n                </section>\r\n\r\n                <section className=\"main discovery-main\">\r\n                    <aside>\r\n                        <div className=\"content trending\">\r\n                            <h3>\r\n                                <a\r\n                                    href=\"javascript:void(0)\"\r\n                                    onClick={this.onClick}\r\n                                >\r\n                                    What&apos;s Watson Discovery?\r\n                                </a>\r\n                            </h3>\r\n                            <p>\r\n                                Watson Discovery is an award-winning enterprise\r\n                                search tool and AI search technology that breaks\r\n                                open data silos and retrieves specific answers\r\n                                to your questions while analyzing trends and\r\n                                relationships buried in enterprise data.{\" \"}\r\n                            </p>\r\n                            <p>\r\n                                Watson Discovery applies the latest\r\n                                breakthroughs in machine learning, including\r\n                                natural language processing capabilities, and is\r\n                                easily trained on the language of your domain.\r\n                                Unlike competitors, Watson Discovery can be\r\n                                deployed on any cloud or on-premises\r\n                                environment.\r\n                            </p>\r\n                        </div>\r\n                    </aside>\r\n\r\n                    <aside>\r\n                        <div className=\"content find-it\">\r\n                            <h3>\r\n                                <a\r\n                                    href=\"javascript:void(0)\"\r\n                                    onClick={this.onClick}\r\n                                >\r\n                                    What can we discover?\r\n                                </a>\r\n                            </h3>\r\n                            <p>\r\n                                Discovery has a powerful analytics engine that\r\n                                provides cognitive enrichments and insights into\r\n                                your data. With built-in natural language\r\n                                processing (NLP) capabilities, it can extract\r\n                                enrichments from a wide range of document types,\r\n                                such as JSON, HTML, PDF, and Microsoft™ Word.\r\n                                The following table shows the key enrichments.\r\n                            </p>\r\n                        </div>\r\n                    </aside>\r\n\r\n                    <aside>\r\n                        <div className=\"content tools\">\r\n                            <h3>\r\n                                <a\r\n                                    href=\"javascript:void(0)\"\r\n                                    onClick={this.onClick}\r\n                                >\r\n                                    Tools of the trade\r\n                                </a>\r\n                            </h3>\r\n                            <p>\r\n                                Discovery has its own set of tooling that is\r\n                                available through the IBM Cloud, and which\r\n                                provides a UI to manually manage your Discovery\r\n                                collections.\r\n                            </p>\r\n                            <p>\r\n                                All of the data content is stored and enriched\r\n                                within a Discovery collection. The data does not\r\n                                require any specific structure and can come from\r\n                                multiple public and private data sources. Every\r\n                                Discovery environment comes with a pre-enriched\r\n                                data collection named Watson Discovery News.\r\n                            </p>\r\n                        </div>\r\n                    </aside>\r\n                </section>\r\n\r\n                <section className=\"atmosphere watson-atmosphere\">\r\n                    <article>\r\n                        <h2>Anyone can teach Watson Discovery</h2>\r\n                        <p>\r\n                            Intuitive tooling empowers your subject-matter experts to teach Watson the language of your industry without deep technical or coding skills required. Join us to create a better and stronger AI - which will help us all to combat climate change.\r\n                        </p>\r\n                        <a\r\n                            className=\"btn watson-learn\"\r\n                            title=\"Creating a modern atmosphere\"\r\n                            href=\"https://www.ibm.com/in-en/cloud/watson-discovery\"\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                        >\r\n                            Learn more\r\n                        </a>\r\n                    </article>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WatsonDiscovery;\r\n"],"sourceRoot":""}