{"version":3,"sources":["components/form-inputs/index.js","views/product-upload/index.js"],"names":["InputForm","props","className","htmlFor","id","cat","placeholder","type","name","value","onChange","required","Dropdown","changeFn","children","SellerUpload","changeInput","e","obj","state","form","target","setState","fileChange","handleSubmit","a","key","preventDefault","errorMsg","userDetails","context","data","FormData","Object","fromEntries","entries","pageLoading","request","append","user_ID","full_name","hasOwnProperty","call","element","console","log","Core","newProduct","res","successMsg","setTimeout","handleError","userImg","product_name","unit_price","quantity","product_material","recycling_code","product_category","product_sub_category","this","imgUrl","window","scrollTo","src","alt","email","created_dt","substr","indexOf","to","onSubmit","min","max","default","accept","Component"],"mappings":"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","file":"static/js/5.5a82fcad.chunk.js","sourcesContent":["\r\nexport const InputForm = props => {\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor={props.id}>{props.cat ? props.placeholder : ''}</label>\r\n            <input\r\n                className=\"form-control\"\r\n                type={props.type}\r\n                name={props.name}\r\n                value={props.value || ''}\r\n                id={props.id}\r\n                placeholder={props.placeholder}\r\n                onChange={props.onChange}\r\n                required={props.required}\r\n                {...props}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Dropdown = props => {\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor={props.id}>{props.cat ? props.placeholder : ''}</label>\r\n            <select \r\n                name={props.id}\r\n                id={props.id}\r\n                value={props.value} \r\n                required\r\n                onChange={props.changeFn}>\r\n                {props.children}\r\n            </select>\r\n        </div>\r\n    )\r\n}","import React, { Component } from \"react\";\r\nimport Core from \"../../services/core\";\r\nimport handleError from \"../../services/errorHandler\";\r\nimport Loading from \"components/loader/index\";\r\nimport \"../seller/index.scss\";\r\nimport { InputForm, Dropdown } from \"../../components/form-inputs/index\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./index.scss\";\r\n\r\nclass SellerUpload extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            pageLoading: false,\r\n            userImg: \"https://img.icons8.com/bubbles/100/000000/user.png\",\r\n            form: {\r\n                product_name: \"\",\r\n                unit_price: \"\",\r\n                quantity: \"\",\r\n                product_material: \"\",\r\n                recycling_code: \"\",\r\n                product_category: \"\",\r\n                product_sub_category: \"\",\r\n            },\r\n            successMsg: \"\",\r\n            errorMsg: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { userDetails } = this.props.context;\r\n        if (userDetails.imgUrl) {\r\n            this.setState({ userImg: userDetails.imgUrl });\r\n        }\r\n        window.scrollTo(0, 150);\r\n\r\n        console.log(\"prps\", this.props.context, this.props.context.userDetails);\r\n    }\r\n\r\n    changeInput = (e) => {\r\n        const obj = { ...this.state.form };\r\n        obj[e.target.id] = e.target.value;\r\n        this.setState({\r\n            form: obj,\r\n        });\r\n    };\r\n\r\n    fileChange = (e) => {};\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ errorMsg: \"\" });\r\n        const { userDetails } = this.props.context;\r\n        const data = new FormData(e.target);\r\n\r\n        const value = Object.fromEntries(data.entries());\r\n\r\n        this.setState({ pageLoading: true });\r\n        const request = new FormData();\r\n        request.append(\"seller_ID\", userDetails.user_ID);\r\n        request.append(\"seller_name\", userDetails.full_name);\r\n        for (const key in value) {\r\n            if (Object.hasOwnProperty.call(value, key)) {\r\n                const element = value[key];\r\n                request.append(key, element);\r\n            }\r\n        }\r\n        console.log(\"data\", request, value);\r\n        try {\r\n            const res = await Core.newProduct(request);\r\n            if (res) {\r\n                console.log(\"data\", res);\r\n                for (const key in this.state.form) {\r\n                    if (Object.hasOwnProperty.call(value, key)) {\r\n                        const obj = { ...this.state.form };\r\n                        obj[key] = ''\r\n                        this.setState({form: obj})\r\n                    }\r\n                }\r\n                this.setState({\r\n                    successMsg: \"Product item uploaded successfully\"\r\n                });\r\n                setTimeout(() => {\r\n                    this.setState({ successMsg: \"\" });\r\n                }, 3000);\r\n            }\r\n        } catch (error) {\r\n            this.setState({ errorMsg: \"Error uploading product\" });\r\n            handleError(error);\r\n        }\r\n        this.setState({ pageLoading: false });\r\n    };\r\n\r\n    render() {\r\n        const { userDetails } = this.props.context;\r\n        const {\r\n            product_name,\r\n            unit_price,\r\n            quantity,\r\n            product_material,\r\n            recycling_code,\r\n            product_category,\r\n            product_sub_category,\r\n        } = this.state.form;\r\n\r\n        return (\r\n            <div className=\"seller-page\">\r\n                {this.state.pageLoading ? <Loading /> : \"\"}\r\n                <h1 className=\"page-settings-header\">Upload Items</h1>\r\n                <div className=\"page-content page-container\" id=\"page-content\">\r\n                    <div className=\"row d-flex justify-content-center\">\r\n                        <div className=\"seller-inner-wrapper\">\r\n                            <div className=\"card user-card-full\">\r\n                                <div className=\"row m-l-0 m-r-0 upload-wrapper\">\r\n                                    <div className=\"col-4 bg-c-lite-green user-profile\">\r\n                                        <div className=\"card-block text-center text-white\">\r\n                                            <div className=\"m-b-25\">\r\n                                                <img\r\n                                                    src={this.state.userImg}\r\n                                                    className=\"img-radius\"\r\n                                                    alt=\"User-Profile-Image\"\r\n                                                />\r\n                                            </div>\r\n                                            <h6 className=\"f-w-600\">\r\n                                                {userDetails.full_name}\r\n                                            </h6>\r\n                                            <p>GreenyTale Seller</p>\r\n                                            <p>{userDetails.email}</p>\r\n                                            <p>\r\n                                                Joined:{\" \"}\r\n                                                {userDetails.created_dt.substr(\r\n                                                    0,\r\n                                                    userDetails.created_dt.indexOf(\r\n                                                        \"T\"\r\n                                                    )\r\n                                                )}\r\n                                            </p>\r\n                                        </div>\r\n                                        <div className=\"account-btn\">\r\n                                            <button\r\n                                                className=\"btn btn-info\">\r\n                                                <Link to=\"seller\">Account Details</Link>\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-8\">\r\n                                        <div className=\"card-block upload-item\">\r\n                                            <form onSubmit={this.handleSubmit}>\r\n                                                <div className=\"outer-child\">\r\n                                                    <div className=\"input-child\">\r\n                                                        <InputForm\r\n                                                            type=\"text\"\r\n                                                            name={\r\n                                                                \"product_name\"\r\n                                                            }\r\n                                                            value={product_name}\r\n                                                            id={\"product_name\"}\r\n                                                            cat={true}\r\n                                                            placeholder=\"Enter item name:\"\r\n                                                            onChange={\r\n                                                                this.changeInput\r\n                                                            }\r\n                                                            required={true}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"input-child\">\r\n                                                        <InputForm\r\n                                                            type=\"number\"\r\n                                                            name={\"unit_price\"}\r\n                                                            value={unit_price}\r\n                                                            id={\"unit_price\"}\r\n                                                            cat={true}\r\n                                                            min={0}\r\n                                                            placeholder=\"Price:\"\r\n                                                            onChange={\r\n                                                                this.changeInput\r\n                                                            }\r\n                                                            required={true}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"input-child\">\r\n                                                        <InputForm\r\n                                                            type=\"number\"\r\n                                                            name={\"quantity\"}\r\n                                                            value={quantity}\r\n                                                            id={\"quantity\"}\r\n                                                            cat={true}\r\n                                                            min={1}\r\n                                                            max={10}\r\n                                                            placeholder=\"Quantity\"\r\n                                                            onChange={\r\n                                                                this.changeInput\r\n                                                            }\r\n                                                            required={true}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"input-child\">\r\n                                                        <InputForm\r\n                                                            type=\"text\"\r\n                                                            name={\r\n                                                                \"product_material\"\r\n                                                            }\r\n                                                            value={\r\n                                                                product_material\r\n                                                            }\r\n                                                            id={\r\n                                                                \"product_material\"\r\n                                                            }\r\n                                                            cat={true}\r\n                                                            placeholder=\"Material used for items:\"\r\n                                                            onChange={\r\n                                                                this.changeInput\r\n                                                            }\r\n                                                            required={true}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"input-child input-child-dd\">\r\n                                                        <Dropdown\r\n                                                            name={\r\n                                                                \"product_category\"\r\n                                                            }\r\n                                                            value={\r\n                                                                product_category\r\n                                                            }\r\n                                                            id={\r\n                                                                \"product_category\"\r\n                                                            }\r\n                                                            cat={true}\r\n                                                            placeholder=\"Category:\"\r\n                                                            changeFn={\r\n                                                                this.changeInput\r\n                                                            }\r\n                                                        >\r\n                                                            <option\r\n                                                                value=\"\"\r\n                                                                default\r\n                                                            >\r\n                                                                --Select\r\n                                                                Category--\r\n                                                            </option>\r\n                                                            <option>\r\n                                                                Clothing\r\n                                                            </option>\r\n                                                            <option>\r\n                                                                Footwear\r\n                                                            </option>\r\n                                                            <option>\r\n                                                                Electronics\r\n                                                            </option>\r\n                                                            <option>\r\n                                                                Domestic\r\n                                                                appliances\r\n                                                            </option>\r\n                                                            <option>\r\n                                                                Accessories\r\n                                                            </option>\r\n                                                        </Dropdown>\r\n                                                    </div>\r\n                                                    <div className=\"input-child\">\r\n                                                        <InputForm\r\n                                                            type=\"text\"\r\n                                                            name={\r\n                                                                \"product_sub_category\"\r\n                                                            }\r\n                                                            value={\r\n                                                                product_sub_category\r\n                                                            }\r\n                                                            id={\r\n                                                                \"product_sub_category\"\r\n                                                            }\r\n                                                            cat={true}\r\n                                                            placeholder=\"Item sub-category:\"\r\n                                                            onChange={\r\n                                                                this.changeInput\r\n                                                            }\r\n                                                            required={false}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"input-child\">\r\n                                                        <InputForm\r\n                                                            type=\"text\"\r\n                                                            name={\r\n                                                                \"recycling_code\"\r\n                                                            }\r\n                                                            value={\r\n                                                                recycling_code\r\n                                                            }\r\n                                                            id={\r\n                                                                \"recycling_code\"\r\n                                                            }\r\n                                                            cat={true}\r\n                                                            placeholder=\"Recycling code:\"\r\n                                                            onChange={\r\n                                                                this.changeInput\r\n                                                            }\r\n                                                            required={false}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"input-child\">\r\n                                                        <label htmlFor=\"file\">\r\n                                                            Upload items\r\n                                                        </label>\r\n                                                        <input\r\n                                                            type=\"file\"\r\n                                                            id=\"file\"\r\n                                                            name=\"file\"\r\n                                                            onChange={\r\n                                                                this.fileChange\r\n                                                            }\r\n                                                            accept=\"image/*\"\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"input-child\">\r\n                                                        <button\r\n                                                            className=\"btn btn-info upload-btn\"\r\n                                                            type=\"submit\"\r\n                                                        >\r\n                                                            Upload\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </form>\r\n                                            {!!this.state.errorMsg && (\r\n                                                <div className=\"error-body\">\r\n                                                    <span>\r\n                                                        {this.state.errorMsg}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )}\r\n                                            {!!this.state.successMsg && (\r\n                                                <div className=\"success-body\">\r\n                                                    <span>\r\n                                                        {this.state.successMsg}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SellerUpload;\r\n"],"sourceRoot":""}